{"version":3,"file":"index.js","sources":["../src/js/hero.js","../src/js/refs.js","../src/js/storage.js","../src/js/render-function.js","../src/js/loader.js","../src/js/books-api.js","../src/js/modal.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/cart.js","../src/js/modal menu.js","../src/js/form.js","../src/js/events.js","../src/js/footer.js"],"sourcesContent":["import 'swiper/css';\nimport 'swiper/css/navigation';\n\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\n\nconst swiper = new Swiper('.hero-swiper', {\n  loop: false,\n  speed: 600,\n  grabCursor: true,\n  slidesPerView: 1,\n  spaceBetween: 20,\n  modules: [Navigation, Keyboard],\n  navigation: {\n    nextEl: '.swiper-btn-next',\n    prevEl: '.swiper-btn-prev',\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n    pageUpDown: true,\n  },\n  breakpoints: {\n    768: {\n      speed: 700,\n    },\n    1440: {\n      speed: 800,\n    },\n  },\n\n  on: {\n    init: function () {\n      updateNavButtons(this);\n    },\n    slideChange: function () {\n      updateNavButtons(this);\n    },\n  },\n});\n\n// функція для вмикання/вимикання стрілок\nfunction updateNavButtons(swiperIns) {\n  const prevBut = document.querySelector('.swiper-btn-prev');\n  const nextBut = document.querySelector('.swiper-btn-next');\n\n  if (swiperIns.isBeginning) {\n    prevBut.classList.add('button-dis');\n  } else {\n    prevBut.classList.remove('button-dis');\n  }\n\n  if (swiperIns.isEnd) {\n    nextBut.classList.add('button-dis');\n  } else {\n    nextBut.classList.remove('button-dis');\n  }\n}\n\nconst heroButtons = document.querySelectorAll('.hero-btn');\n\nheroButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    const target = document.querySelector('.books');\n    if (target) {\n      target.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  });\n});","export default {\n\t//endpoints\n\tBASE_URL: \"https://books-backend.p.goit.global\",\n\tEND_CATEGORIES: \"/books/category-list\",\n\tEND_TOP_BOOKS: \"/books/top-books\",\n\tEND_CATEGORIE_ID: \"/books/category?category=\",\n\tEND_BOOK_ID: \"/books/\",\n\t//error types\n\tAPI_ERROR: \"ApiError\",\n\tNO_BOOKS: \"NoBooks\",\n\t//storage\n\tALL_CATEGORIES: \"All categories\",\n\tBOOK_LIST: \"bookList\",\n\tBOOK_CARD_LIST: \"bookCardList\",\n\t//constants variables\n\tcurrentCategory: \"\",\n\titemsPerView: 24,\n\tviewedBooks: 0,\n\titemsToAdd: 4,\n\t//elements\n\tbody: document.body,\n\tmobile_menu: document.querySelector(\".modal-menu\"),\n\tcart_products: document.querySelector('.cart-products'),\n\tcart_modal: document.querySelector('#cart-modal'),\n\tcart_close: document.querySelector('#cart-close-btn'),\n\tcart_buy: document.querySelector('.cart-buy-btn'),\n\tmain_loader: document.querySelector('.loader'),\n\tbtn_loader: document.querySelector('.btn-loader'),\n\t//mobile menu icons\n\tscr_btn_burger_close: \"ico-sprite.svg#icon-x\",\n\tscr_btn_burger_normal: \"ico-sprite.svg#icon-menu-alt-right\"\n};\n","\nimport refs from \"./refs\";\n//{\n//  bookList: [\n//    { id: 1, title: \"Atomic Habits\", price: 15, etc },\n//    { id: 2, title: \"Deep Work\", price: 20, etc }\n//  ],\n//  bookCartList: [\n//    { id: 1, price: 15, qty: 2 },\n//    { id: 2, price: 20, qty: 1 }\n//  ]\n//}\n\nexport function setQuantityFromLocalStorage(storageKey) {\n\n\tconst qty = StorageService.count(storageKey) || 0;\n\n\tconst labelEl = document.querySelectorAll(\"[data-cart-count]\");\n\n\t//console.log(labelEl);\n\n\tfor (const item of labelEl) {\n\t\titem.textContent = qty;\n\t}\n}\n\nexport const StorageService = {\n\tadd(key, data) {\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\t},\n\tget(key) {\n\t\treturn JSON.parse(localStorage.getItem(key)) || [];\n\t},\n\taddToCard(key, id, price, qty = 1, action = null) {\n\t\tconst data = this.get(key);\n\t\tconst index = data.findIndex(item => item.id === id);\n\n\t\tif (index === -1) {\n\t\t\tdata.push({ id, price, qty });\n\t\t} else {\n\t\t\tconst currentItem = data[index];\n\t\t\tcurrentItem.qty = qty;\n\t\t\t//currentItem.qty = Math.max(0, currentItem.qty + (action === '+' ? qty : -qty));\n\t\t}\n\n\t\tlocalStorage.setItem(key, JSON.stringify(data));\n\t},\n\tremoveItemFromStorage(key, id) {\n\t\tconst data = this.get(key);\n\t\tconst fArray = data.filter(itm => itm.id !== id);\n\t\tlocalStorage.setItem(key, JSON.stringify(fArray));\n\t},\n\tsetTotalCard(el) {\n\t\tconst arrOfItems = this.get(refs.BOOK_CARD_LIST);\n\t\tlet total = 0;\n\t\tif (arrOfItems.length) {\n\t\t\ttotal = arrOfItems.reduce((acc, val) => acc + val.price * val.qty, 0);\n\t\t}\n\t\tconsole.log(total);\n\n\t\tel.textContent = `${total.toFixed(2)} $`;\n\t},\n\tcount(key) {\n\t\treturn this.get(key).length;\n\t},\n\tcountItems(key) {\n\t\tconst data = this.get(key);\n\t\treturn data.reduce((acc, item) => acc + Number(item.qty), 0);\n\t},\n\tgetItem(key, id) {\n\t\tconst data = this.get(key);\n\t\treturn data.find(item => item.id === id);;\n\t},\n\tisInCardList(key, id) {\n\t\treturn this\n\t\t\t.get(key)\n\t\t\t.find(x => x.id === id) !== undefined;\n\t},\n\tsetCountTo(el, key) {\n\t\tel.textContent = this.count(key) || 0;\n\t},\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport refs from '/js/refs';\nimport * as storage from '/js/storage';\n\nexport function clearElement(element) {\n\telement.innerHTML = '';\n}\nexport function removeClassElement(element, className) {\n\telement.classList.remove(className);\n}\nexport function addClassElement(element, className) {\n\telement.classList.add(className);\n}\nexport function toggleClassElement(element, className) {\n\telement.classList.toggle(className);\n}\n\nexport function scrollToTop() {\n\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nexport async function createMarcup(\n\telement,\n\tdata,\n\tcallBack,\n\temptyElement = false\n) {\n\tif (emptyElement) {\n\t\tclearElement(element);\n\t}\n\telement.insertAdjacentHTML('beforeend', callBack(data));\n}\n\n//наповнювачі\nexport function markUpBooks(data) {\n\tconst mkData = data\n\t\t.map(\n\t\t\t({\n\t\t\t\t_id,\n\t\t\t\tlist_name,\n\t\t\t\tauthor,\n\t\t\t\tprice,\n\t\t\t\ttitle,\n\t\t\t\tbook_image,\n\t\t\t\tbook_image_width,\n\t\t\t\tbook_image_height,\n\t\t\t}) => {\n\t\t\t\treturn `<li class=\"books-data-itm\" data-id=\"${_id}\">\n          <div class=\"books-data-img-container\">\n            <img\n              src=\"${book_image}\"\n              alt=\"${title}\"\n              class=\"books-data-img\"\n            />\n          </div>\n          <div class=\"books-data-info\">\n\t\t\t\t\t\t<div class=\"books-data-texts\">\n\t\t\t\t\t\t\t<h3 class=\"books-data-title\">${title}</h3>\n\t\t\t\t\t\t\t<p class=\"books-data-author\">${author}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"books-data-price\">$${price}</p>\n\t\t\t\t\t</div>\n          <button type=\"button\" class=\"secondary-button books-data-button\">Learn More</button>\n        </li>`;\n\t\t\t}\n\t\t)\n\t\t.join('');\n\n\treturn mkData;\n}\nexport function markUpCategories(data) {\n\tconst mkData = data\n\t\t.filter(itm => itm.list_name.trim() !== '')\n\t\t.map(({ list_name }) => {\n\t\t\treturn `<li class=\"b-categories-itm\" data-category=\"${list_name}\">\n          \t<p class=\"b-categories-itm-text\">${list_name}</p>\n        \t</li>`;\n\t\t})\n\t\t.join('');\n\n\treturn `<li class=\"b-categories-itm\" data-category=\"all\">\n\t\t\t\t\t\t<p class=\"b-categories-itm-text\">${refs.ALL_CATEGORIES}</p>\n\t\t\t\t\t</li> ${mkData}`;\n}\nexport function markUpBooksById({\n\t_id,\n\tlist_name,\n\tauthor,\n\tbook_image,\n\tdescription,\n\tprice,\n\ttitle,\n}) {\n\t//(с) команда IX\n\tlet desc = description.trim() !== '' ? description : title;\n\treturn `\n\t\t<img id=\"book-image\" src=\"${book_image}\" alt=\"${title}\" class=\"modal-card-image\" />\n\t\t<div class=\"modal-card-right\">\n\t\t\t<div class=\"modal-card-info\">\n\t\t\t\t<h2 id=\"book-title\" class=\"modal-card-title\">${title}</h2>\n\t\t\t\t<p id=\"book-author\" class=\"modal-card-author\">${author}</p>\n\t\t\t\t<p id=\"book-price\" class=\"modal-card-price\">$${price}</p>\n\t\t\t</div>\n\t\t\t<form id=\"book-form\" class=\"modal-card-form\">\n\t\t\t\t<div class=\"modal-card-quantity\">\n\t\t\t\t\t<button id=\"decrease-quantity\" type=\"button\">-</button>\n\t\t\t\t\t<input id=\"book-quantity\" type=\"number\" min=\"1\" value=\"1\" />\n\t\t\t\t\t<button id=\"increase-quantity\" type=\"button\">+</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-card-buttons\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tid=\"add-to-cart\"\n\t\t\t\t\t\tclass=\"modal-card-btn main-button\"\n\t\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t\t\tAdd to Cart\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"submit\" class=\"modal-card-btn secondary-button\">\n\t\t\t\t\t\tBuy Now\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<div class=\"accordion-container\">\n\t\t\t\t<div class=\"ac\">\n\t\t\t\t\t<h2 class=\"ac-header\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ac-trigger\">\n\t\t\t\t\t\t\tDetails\n\t\t\t\t\t\t\t<svg class=\"accordion-icon\" width=\"16\" height=\"16\">\n\t\t\t\t\t\t\t\t<use href=\"ico-sprite.svg#icon-chevron-down\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div class=\"ac-panel\">\n\t\t\t\t\t\t<p id=\"book-details\">${desc}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ac\">\n\t\t\t\t\t<h2 class=\"ac-header\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ac-trigger\">\n\t\t\t\t\t\t\tShipping\n\t\t\t\t\t\t\t<svg class=\"accordion-icon\" width=\"16\" height=\"16\">\n\t\t\t\t\t\t\t\t<use href=\"ico-sprite.svg#icon-chevron-down\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div class=\"ac-panel\">\n\t\t\t\t\t\t<p id=\"book-shipping\">\n\t\t\t\t\t\t\tWe ship across the United States within 2–5 business days. All\n\t\t\t\t\t\t\torders are processed through USPS or a reliable courier service.\n\t\t\t\t\t\t\tEnjoy free standard shipping on orders over $50.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ac\">\n\t\t\t\t\t<h2 class=\"ac-header\">\n\t\t\t\t\t\t<button type=\"button\" class=\"ac-trigger\">\n\t\t\t\t\t\t\tReturns\n\t\t\t\t\t\t\t<svg class=\"accordion-icon\" width=\"16\" height=\"16\">\n\t\t\t\t\t\t\t\t<use href=\"ico-sprite.svg#icon-chevron-down\"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div class=\"ac-panel\">\n\t\t\t\t\t\t<p id=\"book-returns\">\n\t\t\t\t\t\t\tYou can return an item within 14 days of receiving your order,\n\t\t\t\t\t\t\tprovided it hasn’t been used and is in its original condition.\n\t\t\t\t\t\t\tTo start a return, please contact our support team — we’ll guide\n\t\t\t\t\t\t\tyou through the process quickly and hassle-free.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`\n};\n\nexport function markUpCartBookList(data) {\n\tconst cartList = storage.StorageService.get(refs.BOOK_CARD_LIST);\n\n\tconst mkData = data\n\t\t.map(({ _id, list_name, author, price, title, book_image }) => {\n\t\t\tconst storageData = cartList.find(item => item.id === _id);\n\t\t\tconst qty = storageData ? storageData.qty : 1;\n\n\t\t\treturn `<li class=\"cart-item\" data-id=\"${_id}\">\n\t\t\t\t\t\t\t<div class=\"cart-item-wrapper\">\n\t\t\t\t\t\t\t\t<div class=\"cart-item-thumb\">\n\t\t\t\t\t\t\t\t\t<img src=\"${book_image}\" alt=\"${title}\" class=\"cart-item-img\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"cart-item-info\">\n\t\t\t\t\t\t\t\t\t<h3 class=\"cart-item-title\">${title}</h3>\n\t\t\t\t\t\t\t\t\t<p class=\"cart-item-author\">${author}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"cart-item-meta\">\n\t\t\t\t\t\t\t\t\t<span class=\"cart-item-price\">Price: $${price}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"cart-item-qty\"> Q-ty: ${qty}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"cart-item-total\">Total: $${(price * qty).toFixed(2)}</span>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button class=\"cart-item-btn secondary-button\">remove from cart</button>\n\n\t\t\t\t\t\t</li>`;\n\t\t})\n\t\t.join('');\n\n\treturn mkData;\n}\n\nexport function showMessage(message, title, color = \"green\") {\n\tsetTimeout(() => {\n\t\tiziToast.success({\n\t\t\ttitle,\n\t\t\tmessage,\n\t\t\tcolor,\n\t\t\tposition: 'topRight',\n\t\t\tclass: 'custom-toast'\n\t\t});\n\t}, 300);\n}\n","import * as render from '/js/render-function';\n\nexport function showLoader(loader) {\n    render.removeClassElement(loader, 'hidden');\n    //console.log('loader show');\n}\n\nexport function hideLoader(loader) {\n    render.addClassElement(loader, 'hidden');\n    //console.log('loader hidden');\n}\n","import axios from \"axios\";\nimport refs from '/js/refs';\n\nexport async function getApiData(url) {\n\ttry {\n\t\tconst response = await axios.get(url);\n\t\treturn response;\n\t} catch (error) {\n\t\tconst statusCode = error.response?.status ?? null;\n\n\t\tthrow new ErrorService({\n\t\t\tmessage: `API error: ${error.message}`,\n\t\t\tname: refs.API_ERROR,\n\t\t\tstatusCode,\n\t\t\terror\n\t\t});\n\t}\n}\n\nexport class ErrorService extends Error {\n\tconstructor({ message, secondaryMessage = \"\", name = \"CustomError\", error = null, statusCode = null }) {\n\t\tsuper(message);\n\t\tthis.name = name;\n\t\tthis.secondaryMessage = secondaryMessage;\n\t\tthis.statusCode = statusCode;\n\t\tthis.originalError = error;\n\t}\n}","import refs from '/js/refs';\nimport { showLoader, hideLoader } from './loader';\nimport * as render from '/js/render-function';\nimport * as apiRest from '/js/books-api';\nimport * as storage from '/js/storage'\n\nconst modalBackdrop = document.querySelector('#modal-backdrop');\nconst modalContent = modalBackdrop.querySelector(\".modal\");\nconst modalContainer = modalBackdrop.querySelector(\".modal-card\");\n//const body = document.body;\n\nfunction setupQuantityControls(quantityInput, decreaseBtn, increaseBtn) {\n\n  if (decreaseBtn && increaseBtn && quantityInput) {\n    decreaseBtn.addEventListener('click', () => {\n      let value = parseInt(quantityInput.value, 10);\n      if (!isNaN(value) && value > 1) {\n        quantityInput.value = value - 1;\n      }\n    });\n\n    increaseBtn.addEventListener('click', () => {\n      let value = parseInt(quantityInput.value, 10);\n      const max = parseInt(quantityInput.dataset.max, 10);\n      if (!isNaN(value) && !isNaN(max) && value < max) {\n        quantityInput.value = value + 1;\n      }\n    });\n  }\n}\n\nfunction initModalListeners() {\n  modalBackdrop.addEventListener('click', e => {\n    if (e.target === modalBackdrop || e.target.closest('.modal-close')) {\n      closeModal();\n    }\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeModal();\n  });\n}\n\nexport async function openModal(bookId) {\n  try {\n    // Очистка і рендер контенту\n    render.clearElement(modalContainer);\n    render.toggleClassElement(modalBackdrop, \"is-hidden\");\n    render.toggleClassElement(refs.body, \"locked\");\n\n    showLoader(refs.btn_loader);\n\n    //типу завантажується\n    const vQuery = `${refs.BASE_URL}${refs.END_BOOK_ID}${bookId}`;\n    const dataBook = await apiRest.getApiData(vQuery);\n\n    await new Promise(resolve => setTimeout(resolve, 400));\n    hideLoader(refs.btn_loader);\n\n    await render.createMarcup(modalContainer, dataBook.data, render.markUpBooksById, true);\n\n    //67 +/-\n    setupQuantityControls(\n      modalContainer.querySelector(\"#book-quantity\"),\n      modalContainer.querySelector(\"#decrease-quantity\"),\n      modalContainer.querySelector(\"#increase-quantity\")\n    );\n\n    const quantityInput = modalContainer.querySelector(\"#book-quantity\");\n    const maxAvailable = dataBook?.data?.quantity || 100;\n\n    if (quantityInput) {\n      quantityInput.dataset.max = maxAvailable;\n      quantityInput.value = 1;\n    }\n\n    //67 submit\n    const submitBuyNow = modalContent.querySelector(\"#book-form\");\n\n    if (submitBuyNow) {\n      submitBuyNow.addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n        e.currentTarget.blur();\n        render.showMessage('Good choise', 'Thanks for your purchase!');\n        storage.StorageService.removeItemFromStorage(bookId);\n        closeModal();\n      });\n    }\n\n    const addToCard = modalContent.querySelector(\"#add-to-cart\");\n    if (addToCard) {\n      addToCard.addEventListener(\"click\", (e) => {\n        e.currentTarget.blur();\n        handleAddToCard(quantityInput.value, dataBook.data);\n        closeModal();\n      });\n    }\n\n    // закриття\n    initModalListeners();\n\n    // Аккордеон\n    const container = modalContainer.querySelector('.accordion-container');\n\n    if (container) {\n      const items = container.querySelectorAll('.ac');\n      items.forEach(item => {\n        const trigger = item.querySelector('.ac-trigger');\n        const panel = item.querySelector('.ac-panel');\n\n        if (!trigger || !panel) return;\n\n        trigger.addEventListener('click', () => {\n          const isOpen = item.classList.contains('is-active');\n          if (isOpen) {\n            panel.style.height = '0px';\n            item.classList.remove('is-active');\n          } else {\n            item.classList.add('is-active');\n            panel.style.height = panel.scrollHeight + 'px';\n          }\n        });\n\n        panel.style.height = '0px';\n      });\n    }\n  } catch (error) {\n    initModalListeners();\n    hideLoader(refs.btn_loader);\n    render.clearElement(modalContainer);\n    modalContainer.innerHTML = `Sorry!!! Book unavailable!! <br/> ID = ${bookId} <br/>${error.message}`;\n    render.addClassElement(modalContent, \"modal-error\");\n  }\n}\n\nfunction handleAddToCard(qty, data) {\n  storage.StorageService.addToCard(refs.BOOK_CARD_LIST, data._id, data.price, qty);\n  render.showMessage(`In cart ${qty} books ${data.title}`, \"Cart\");\n};\n\nfunction closeModal() {\n  modalBackdrop.classList.add('is-hidden');\n  render.removeClassElement(refs.body, \"locked\");\n  storage.setQuantityFromLocalStorage(refs.BOOK_CARD_LIST);\n}\n","import refs from '/js/refs';\nimport { showLoader, hideLoader } from './loader';\nimport * as render from '/js/render-function';\nimport * as apiRest from '/js/books-api';\nimport * as modal from '/js/modal';\nimport * as storage from '/js/storage';\n\n//const modal_book = document.querySelector(\".backdrop\");\n\n//const modal_book_data = document.querySelector(\".modal-card\");\n//const modal_book_close = document.querySelector(\".modal-close\");\n\nconst books_list = document.querySelector(\".books-data-list\");\nconst category_list = document.querySelector(\".b-categories-list\");\nconst category_button_dropdown = document.querySelector(\".categories-dropdown\");\nconst books_more_btn = document.querySelector(\".books-show-more\");\n\nconst notFoundEl = document.querySelector(\".not-found\");\nconst notFoundElDesc = document.querySelector(\".not-found-description\");\nconst notFoundTitle = document.querySelector(\".not-found-title\");\n\nconst counterText = document.querySelector(\".b-categories-_text\");\n\nasync function renderCategories() {\n\ttry {\n\t\tconst vQuery = `${refs.BASE_URL}${refs.END_CATEGORIES}`\n\t\tconst dataBook = await apiRest.getApiData(vQuery);\n\t\t//console.log(\"cats\", dataBook);\n\t\trender.createMarcup(category_list, dataBook.data, render.markUpCategories, true);\n\t\treturn true;\n\t}\n\tcatch (e) {\n\t\thandleError(e);\n\t\treturn false;\n\t}\n}\n\nasync function renderBooksByCat(bookCat, firstLoad = false) {\n\trender.clearElement(books_list);\n\tshowLoader(refs.main_loader);\n\t//loader\n\trefs.currentCat = bookCat;\n\ttry {\n\t\tconst vQuery = refs.currentCat === refs.ALL_CATEGORIES ? `${refs.BASE_URL}${refs.END_TOP_BOOKS}` : `${refs.BASE_URL}${refs.END_CATEGORIE_ID}${refs.currentCat}`;\n\t\tconst dataBook = await apiRest.getApiData(vQuery);\n\n\t\tlet mkData, sourseData = [];\n\n\t\tif (!dataBook?.data?.length) {\n\t\t\tthrow new apiRest.ErrorService({\n\t\t\t\tmessage: `No books found in \"${refs.currentCat}\"`,\n\t\t\t\tsecondaryMessage: \"We couldn't find any books in this category.<br />Please try a different one.\",\n\t\t\t\tname: refs.NO_BOOKS\n\t\t\t});\n\t\t}\n\n\t\tif (refs.currentCat === refs.ALL_CATEGORIES) {\n\t\t\tsourseData = dataBook.data\n\t\t\t\t.map(category => category.books)\n\t\t\t\t.reduce((acc, books) => acc.concat(books), []);\n\t\t} else {\n\t\t\tsourseData = dataBook.data;\n\t\t}\n\n\t\tmkData = [...new Map(sourseData.map(el => [`${el.title?.trim().toLowerCase()}|${el.author?.trim().toLowerCase()}`, el])).values()];\n\n\t\tstorage.StorageService.add(refs.BOOK_LIST, mkData);\n\n\t\trefs.viewedBooks = Math.min(storage.StorageService.count(refs.BOOK_LIST), refs.itemsPerView);\n\n\t\tlet renderData = mkData.slice(0, refs.viewedBooks);\n\n\t\t//console.log(storage.StorageService.count(refs.BOOK_LIST), refs.itemsPerView);\n\n\t\tupdateCounterText(refs.viewedBooks, mkData.length);\n\n\t\trender.createMarcup(books_list, renderData, render.markUpBooks, true);\n\n\t\tif (!firstLoad) {\n\t\t\trender.toggleClassElement(category_list, \"is-open\");\n\t\t\trender.toggleClassElement(category_button_dropdown, \"is-open\");\n\t\t}\n\t\thideLoader(refs.main_loader);\n\t\tshowHideShowMoreButton();\n\t}\n\tcatch (e) {\n\t\t//notFoundTitle.textContent = `No books found in \"${refs.currentCat}\"`;\n\t\t//render.removeClassElement(notFoundEl, \"hidden\");\n\t\t//render.addClassElement(books_more_btn, \"display-none\");\n\t\t//hideLoader();\n\t\t//console.log(\"error\", e.message);\n\t\thandleError(e);\n\t}\n}\n\nfunction showHideShowMoreButton() {\n\tif (refs.viewedBooks < storage.StorageService.count(refs.BOOK_LIST)) {\n\t\trender.removeClassElement(books_more_btn, \"display-none\");\n\t} else {\n\t\trender.addClassElement(books_more_btn, \"display-none\");\n\t}\n}\n\nfunction dafaultPagination() {\n\trefs.itemsPerView = window.innerWidth >= 1440 ? 24 : 10;\n\tif (refs.itemsPerView === 10) {\n\t\trender.removeClassElement(category_list, \"is-open\");\n\t\trender.removeClassElement(category_button_dropdown, \"is-open\");\n\t}\n}\n\nfunction updateCounterText(viewed, total) {\n\tcounterText.textContent = `Showing ${viewed} of ${total}`;\n}\n\nfunction handleError(error) {\n\tconsole.log(error);\n\n\tif (error instanceof apiRest.ErrorService) {\n\t\tnotFoundTitle.textContent = error.message;\n\t\tnotFoundElDesc.innerHTML = error.secondaryMessage;\n\t} else {\n\t\tnotFoundTitle.textContent = \"Unexpected error occurred.\";\n\t}\n\trender.removeClassElement(category_list, \"is-open\");\n\trender.removeClassElement(category_button_dropdown, \"is-open\");\n\trender.removeClassElement(notFoundEl, \"hidden\");\n\trender.addClassElement(books_more_btn, \"display-none\");\n\n\tupdateCounterText(0, 0);\n\thideLoader(refs.main_loader);\n\tconsole.log(\"Error:\", error.stack);\n}\n\n//слухачі\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n\tstorage.setQuantityFromLocalStorage(refs.BOOK_CARD_LIST);\n\tshowLoader(refs.main_loader);\n\tdafaultPagination();\n\n\tconst hasCategories = await renderCategories();\n\n\tif (hasCategories) {\n\t\trenderBooksByCat(refs.ALL_CATEGORIES, true);\n\t}\n});\n\nwindow.addEventListener('resize', () => {\n\tdafaultPagination();\n});\n\nbooks_list.addEventListener(\"click\", (e) => {\n\n\tconst button = e.target.closest(\".books-data-button\");\n\tif (!button) return;\n\n\tconst bookItm = button.closest(\".books-data-itm\");\n\tif (!bookItm) return;\n\n\t//console.log(\"modal\");\n\n\tmodal.openModal(bookItm.dataset.id);\n\n\t//renderBookById(bookItm.dataset.id);\n});\n\n//дропдаун списку категорій\ncategory_button_dropdown.addEventListener(\"click\", () => {\n\trender.toggleClassElement(category_list, \"is-open\");\n\trender.toggleClassElement(category_button_dropdown, \"is-open\");\n});\n\n//вибір категорії\ncategory_list.addEventListener(\"click\", (e) => {\n\trender.addClassElement(books_more_btn, \"display-none\");\n\n\tconst items = category_list.querySelectorAll(\".b-categories-itm\");\n\n\titems.forEach((item) => {\n\t\trender.removeClassElement(item, \"is-active\");\n\t});\n\n\tconst currentCat = e.target.closest(\"p\");\n\tif (!currentCat) {\n\t\treturn;\n\t}\n\n\tconst activeLi = e.target.closest(\".b-categories-itm\");\n\tif (activeLi) {\n\t\trender.addClassElement(activeLi, \"is-active\");\n\t}\n\n\trender.addClassElement(notFoundEl, \"hidden\");\n\trenderBooksByCat(currentCat.textContent);\n\t//console.log(e.target, e.target.closest(\"p\").textContent);\n\n});\n\n\n//більше!!! \nbooks_more_btn.addEventListener(\"click\", async () => {\n\n\tshowLoader(refs.main_loader);\n\trender.addClassElement(books_more_btn, \"display-none\");\n\t//типу завантажується\n\tawait new Promise(resolve => setTimeout(resolve, 400));\n\t//console.log(\"wait\");\n\n\tbooks_more_btn.disabled = true;\n\n\tconst totalBooks = storage.StorageService.count(refs.BOOK_LIST);\n\tconst viewed = refs.viewedBooks;\n\tconst nextView = refs.viewedBooks + refs.itemsToAdd;\n\n\tconst mkData = storage.StorageService.get(refs.BOOK_LIST);\n\n\t//якийсь розумник почистить local storage\n\tif (!mkData.length) {\n\n\t\t//тост \n\t\trender.showMessage(\"Data is unavailable. Please, try later\", \"Error!!!\", \"red\");\n\t\trenderBooksByCat(refs.currentCat, true);\n\t\tshowMoreCloseOperations();\n\t\trender.scrollToTop();\n\t\treturn;\n\t}\n\n\tconst renderData = mkData.slice(viewed, nextView);\n\n\trefs.viewedBooks = Math.min(nextView, totalBooks);\n\n\tupdateCounterText(refs.viewedBooks, mkData.length);\n\n\trender.createMarcup(books_list, renderData, render.markUpBooks, false);\n\n\tshowMoreCloseOperations();\n\n});\n\nfunction showMoreCloseOperations() {\n\trender.removeClassElement(category_list, \"is-open\");\n\trender.removeClassElement(category_button_dropdown, \"is-open\");\n\tshowHideShowMoreButton();\n\thideLoader(refs.main_loader);\n\tbooks_more_btn.disabled = false;\n\t//console.log(\"ok\");\n\n}\n","import 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\n\nconst swiper = new Swiper('.feedbacks-swiper', {\n  //modules: [Navigation, Pagination],\n  modules: [Navigation, Keyboard, Pagination],\n  loop: false,\n  grabCursor: true,\n  spaceBetween: 20,\n  slidesPerView: 1,\n\n  navigation: {\n    prevEl: '.feedbacks-swiper-button-left',\n    nextEl: '.feedbacks-swiper-button-right',\n  },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n    pageUpDown: true,\n  },\n\n  pagination: {\n    el: '.feedbacks-custom-swiper-pagination',\n    clickable: true,\n  },\n\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 24,\n    },\n    1440: {\n      slidesPerView: 3,\n      spaceBetween: 24,\n    },\n  },\n\n  on: {\n    init: function () {\n      updateNavButtons(this);\n    },\n    slideChange: function () {\n      updateNavButtons(this);\n    },\n  },\n});\n\nfunction updateNavButtons(swiperInstance) {\n  const left = document.querySelector('.feedbacks-swiper-button-left');\n  const right = document.querySelector('.feedbacks-swiper-button-right');\n\n  if (swiperInstance.isBeginning) {\n    left.classList.add('button-disabled');\n  } else {\n    left.classList.remove('button-disabled');\n  }\n\n  if (swiperInstance.isEnd) {\n    right.classList.add('button-disabled');\n  } else {\n    right.classList.remove('button-disabled');\n  }\n}","import refs from '/js/refs';\nimport { showLoader, hideLoader } from './loader';\nimport * as render from '/js/render-function';\nimport * as storage from '/js/storage';\nimport * as apiRest from '/js/books-api';\n\n//змінні\nconst headerNav = document.querySelector('.header-nav-list');\nconst emptyCart = refs.cart_modal.querySelector('.cart-empty');\n\nconst buy_now = document.querySelector('.buy-now');\nconst shop_more = document.querySelector('.shop-more');\n\nconst cart_loader = document.querySelector('.cart-loader');\nconst summary_section = document.querySelector('.cart-summary-section');\n\nconst countEl = document.querySelector('[data-count]');\nconst priceEl = document.querySelector('[data-price]');\n\n//обробники\nexport async function openCartForm(eventLink) {\n  eventLink.preventDefault();\n\n  render.clearElement(refs.cart_products);\n\n  render.addClassElement(emptyCart, 'display-none');\n  render.toggleClassElement(refs.cart_modal, 'is-open');\n  render.toggleClassElement(refs.body, 'locked');\n\n  //const isEmpty = storage.StorageService.count(refs.BOOK_CARD_LIST) === 0;\n\n  if (checkIfCartIsEmpty()) return;\n  //{\n  //render.removeClassElement(emptyCart, 'display-none');\n  //render.removeClassElement(summary_section, 'hidden');\n  //countEl.textContent = storage.StorageService.countItems(\n  //  refs.BOOK_CARD_LIST\n  //);\n  //storage.StorageService.setTotalCard(priceEl);\n  //buy_now.disabled = true;\n  //  return;\n  //}\n\n  showLoader(cart_loader);\n  //типу чекаємо\n  await new Promise(resolve => setTimeout(resolve, 400));\n  hideLoader(cart_loader);\n\n  await markUpCardListItems(refs.BOOK_CARD_LIST);\n\n  render.removeClassElement(summary_section, 'hidden');\n\n  countEl.textContent = storage.StorageService.countItems(refs.BOOK_CARD_LIST);\n  storage.StorageService.setTotalCard(priceEl);\n\n  buy_now.disabled = false;\n}\n\nexport async function markUpCardListItems(storageKey) {\n  const storageData = storage.StorageService.get(storageKey);\n\n  console.log(storageKey, storageData);\n  //const mkUpData = [];\n  //for (const item of storageData) {\n  //\tconst bookId = item.id ;\n\n  //\tconst vQuery = refs.BASE_URL + `/${bookId}`;\n  //\ttry {\n  //\t\tconst dataProd = await apiRest.getApiData(vQuery);\n  //\t\tconsole.log(dataProd.data.length);\n  //\t\tif (dataProd.data) {\n  //\t\t\tmkUpData.push(dataProd.data)\n  //\t\t}\n  //\t} catch (error) {\n  //\t\tconsole.log(error);\n  //\t\tcontinue;\n  //\t}\n  //}\n  const promises = storageData.map(item => {\n    const bookId = item.id;\n    const vQuery = `${refs.BASE_URL}${refs.END_BOOK_ID}${bookId}`;\n    return apiRest\n      .getApiData(vQuery)\n      .then(data => data.data)\n      .catch(error => {\n        ///треба щось цікавіше\n        console.log('Помилка для id:', prodId, error);\n        return null; // Пропускаємо зламані\n      });\n  });\n\n  //console.log(promises);\n\n  const results = await Promise.all(promises);\n  // Фільтруємо null або undefined\n  const mkUpData = results.filter(Boolean);\n\n  //console.log(\"марк\", mkUpData);\n\n  render.createMarcup(\n    refs.cart_products,\n    mkUpData,\n    render.markUpCartBookList,\n    true\n  );\n}\n\nfunction closeModal() {\n  storage.setQuantityFromLocalStorage(refs.BOOK_CARD_LIST);\n  render.removeClassElement(refs.cart_modal, 'is-open');\n  render.removeClassElement(refs.body, 'locked');\n}\n\n//слухачі\ndocument.addEventListener('DOMContentLoaded', async () => { });\n\n//хедер клік\nheaderNav.addEventListener('click', e => {\n  const dataLink = e.target.closest('.cart-trigger');\n  if (!dataLink) return;\n  openCartForm(e);\n});\n\n//закр\nrefs.cart_modal.addEventListener('click', e => {\n  if (e.target === refs.cart_modal || e.target === refs.cart_close) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n\nbuy_now.addEventListener('click', e => {\n  localStorage.removeItem(refs.BOOK_CARD_LIST);\n  render.showMessage('Good choise', 'Thanks for your purchase!');\n  closeModal();\n  storage.StorageService.setQuantityFromLocalStorage(refs.BOOK_CARD_LIST);\n});\n\nshop_more.addEventListener('click', e => {\n  closeModal();\n});\n\nrefs.cart_products.addEventListener('click', onRemoveCartItemClick);\n\nfunction checkIfCartIsEmpty() {\n\n  const isEmpty = storage.StorageService.count(refs.BOOK_CARD_LIST) === 0;\n\n  if (isEmpty) {\n    render.removeClassElement(emptyCart, 'display-none');\n    render.removeClassElement(summary_section, 'hidden');\n    countEl.textContent = storage.StorageService.countItems(\n      refs.BOOK_CARD_LIST\n    );\n    storage.StorageService.setTotalCard(priceEl);\n    buy_now.disabled = true;\n    return true;\n  }\n\n  return false;\n\n\n  //const updatedData = storage.StorageService.get(refs.BOOK_CARD_LIST);\n\n  //if (updatedData.length === 0) {\n  //  render.removeClassElement(emptyCart, 'display-none');\n  //  render.addClassElement(summary_section, 'hidden');\n  //  buy_now.disabled = true;\n  //}\n}\n\nfunction onRemoveCartItemClick(event) {\n  const removeBtn = event.target.closest('.cart-item-btn');\n  if (!removeBtn) return;\n\n  const cartItem = removeBtn.closest('.cart-item');\n  if (!cartItem) return;\n\n  const bookId = cartItem.dataset.id;\n\n  // виділяємо з localStorage\n  storage.StorageService.removeItemFromStorage(refs.BOOK_CARD_LIST, bookId);\n\n  //видаляємо з DOM\n  cartItem.remove();\n\n  // Оновлення кількості та суми\n  countEl.textContent = storage.StorageService.countItems(refs.BOOK_CARD_LIST);\n  storage.StorageService.setTotalCard(priceEl);\n\n  // Якщо порожній\n  checkIfCartIsEmpty();\n}\n","import refs from '/js/refs';\nimport * as render from '/js/render-function';\nimport * as cart from '/js/cart';\n\n\nconst btn_burger = document.querySelector(\".burger-menu\");\n//const menu_burger = document.querySelector(\".modal-menu\");\nconst burger_icon = btn_burger.querySelector('use');\n\nbtn_burger.addEventListener('click', (e) => {\n\tbtn_burger.disabled = true;\n\topenCloseModalMenu();\n});\nrefs.mobile_menu.addEventListener(\"click\", (e) => {\n\tconst dataLink = e.target.closest(\".nav-link\");\n\n\tif (!dataLink) return;\n\topenCloseModalMenu();\n\n\tif (dataLink.classList.contains(\"cart-trigger\")) {\n\t\t//e.preventDefault();\n\t\tcart.openCartForm(e);\n\t}\n});\n\nfunction openCloseModalMenu() {\n\trender.toggleClassElement(btn_burger, \"is-open\");\n\trender.toggleClassElement(refs.mobile_menu, \"is-open\");\n\trender.toggleClassElement(refs.body, \"locked\");\n\tburger_icon.setAttribute(\"href\", btn_burger.classList.contains(\"is-open\")\n\t\t? refs.scr_btn_burger_close\n\t\t: refs.scr_btn_burger_normal);\n\n\tbtn_burger.disabled = false;\n}\n\n\n//кнопка вгору\nconst backoTop = document.querySelector('#back-to-top');\n\nwindow.addEventListener(\"scroll\", () => {\n\n\tif (window.scrollY > 600) {\n\t\trender.removeClassElement(backoTop, \"hidden\");\n\t} else {\n\t\trender.addClassElement(backoTop, \"hidden\");\n\t}\n});\n\nbackoTop.addEventListener(\"click\", (e) => {\n\te.currentTarget.blur();\n\trender.scrollToTop();\n});\n\n","import * as render from '/js/render-function';\n//import iziToast from 'izitoast';\n//import 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst inputs = form.querySelectorAll('.form-input, .form-user-comment');\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst backdrop = document.querySelector('#event-modal');\nconst eventList = document.querySelector('.events-list');\n\nlet eventName = \"\";\n\neventList.addEventListener('click', event => {\n  const curLi = event.target.closest('.events-item');\n  if (!curLi) {\n    return;\n  }\n  const btn = event.target.closest('.card-btn');\n  if (!btn) {\n    return;\n  }\n  eventName = curLi\n    .querySelector('.events-card-heading')\n    .textContent.trim();\n\n  openModal(eventName);\n});\n\nform.addEventListener('submit', handleSubmit);\nbackdrop.addEventListener('click', clickClose);\ncloseBtn.addEventListener('click', handleClick);\n\nfunction openModal(eventName) {\n  //const modal = document.querySelector('.modal-overlay');\n  backdrop.classList.add('is-open');\n\n  const titleTwo = backdrop.querySelector('.form-subtitle');\n  titleTwo.textContent = eventName;\n  document.body.classList.add('locked');\n\n  window.addEventListener('keydown', onEscKeyPress);\n}\n\nfunction closeModal() {\n  //const modal = document.querySelector('.modal-overlay');\n  backdrop.classList.remove('is-open');\n  document.body.classList.remove('locked');\n\n  window.removeEventListener('keydown', onEscKeyPress);\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  let isValid = true;\n\n  inputs.forEach(input => {\n    const errorSpan = input.nextElementSibling;\n    const trimmedValue = input.value.trim();\n    const isEmptyOrInvalid = !input.checkValidity() || trimmedValue === '';\n\n    if (isEmptyOrInvalid) {\n      input.classList.add('error');\n      if (errorSpan && errorSpan.classList.contains('error-text')) {\n        errorSpan.style.display = 'block';\n      }\n      isValid = false;\n    } else {\n      input.classList.remove('error');\n      if (errorSpan && errorSpan.classList.contains('error-text')) {\n        errorSpan.style.display = 'none';\n      }\n    }\n  });\n\n  if (isValid) {\n    const formData = {\n      fullname: form.elements.fullname.value.trim(),\n      email: form.elements.email.value.trim(),\n      comment: form.elements.comment.value.trim(),\n    };\n\n    //console.log('Дані для відправки:', formData);\n\n    setTimeout(() => {\n      render.showMessage(`You successfully registered on event ${eventName}`, \"Thank you\");\n      form.reset();\n      closeModal();\n    }, 500);\n  }\n}\n\nfunction handleClick() {\n  closeModal();\n}\n\nfunction clickClose(event) {\n  if (event.target === backdrop) {\n    closeModal();\n  }\n}\n\nfunction onEscKeyPress(event) {\n\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n","import 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\n\nlet swiperInstance = null;\n\nfunction initSwiper() {\n  swiperInstance = new Swiper('.events-swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n    loop: false,\n    grabCursor: true,\n    spaceBetween: 24,\n    slidesPerView: 1,\n\n    navigation: {\n      prevEl: '.swiper-button-left',\n      nextEl: '.swiper-button-right',\n    },\n\n    pagination: {\n      el: '.custom-swiper-pagination',\n      clickable: true,\n    },\n\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n      pageUpDown: true,\n    },\n\n    breakpoints: {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 24,\n      },\n    },\n\n    on: {\n      init: function () {\n        updateBtn(this);\n      },\n      slideChange: function () {\n        updateBtn(this);\n      },\n    },\n  });\n}\n\nfunction destroySwiper() {\n  if (swiperInstance) {\n    swiperInstance.destroy(true, true);\n    swiperInstance = null;\n  }\n}\n\nfunction checkScreenSize() {\n\n  const screenWidth = window.innerWidth;\n  const controls = document.querySelector('.events-control-cont');\n  const pagination = document.querySelector('.swiper-pagination');\n\n  if (screenWidth >= 1440) {\n    //console.log(\"event\");\n    destroySwiper();\n    controls?.classList.add('hidden');\n    pagination?.classList.add('hidden');\n    //console.log(swiperInstance);\n\n  } else {\n    if (!swiperInstance) {\n      initSwiper();\n    }\n    controls?.classList.remove('hidden');\n    pagination?.classList.remove('hidden');\n  }\n}\n\ncheckScreenSize();\n\nwindow.addEventListener('resize', checkScreenSize);\n\nfunction updateBtn(swiper) {\n  const leftBtn = document.querySelector('.swiper-button-left');\n  const rightBtn = document.querySelector('.swiper-button-right');\n\n  if (swiper.isBeginning) {\n    leftBtn.classList.add('button-disabled');\n  } else {\n    leftBtn.classList.remove('button-disabled');\n  }\n\n  if (swiper.isEnd) {\n    rightBtn.classList.add('button-disabled');\n  } else {\n    rightBtn.classList.remove('button-disabled');\n  }\n}","import * as render from '/js/render-function';\n//import iziToast from 'izitoast';\n//import 'izitoast/dist/css/iziToast.min.css';\n\nconst footerForm = document.querySelector('.footer-form');\nconst footerInput = footerForm?.querySelector('.footer-input');\n\nif (footerForm) {\n  footerForm.addEventListener('submit', function (event) {\n    event.preventDefault();\n    if (!footerInput.checkValidity() || footerInput.value.trim() === '') {\n      footerInput.classList.add('error');\n      return;\n    }\n    setTimeout(() => {\n      render.showMessage(`You subscribed successfully`, \"Thank you\");\n      footerForm.reset();\n    }, 500);\n  });\n} "],"names":["Swiper","Navigation","Keyboard","updateNavButtons","swiperIns","prevBut","nextBut","heroButtons","button","target","refs","setQuantityFromLocalStorage","storageKey","qty","StorageService","labelEl","item","key","data","id","price","action","index","currentItem","fArray","itm","el","arrOfItems","total","acc","val","x","clearElement","element","removeClassElement","className","addClassElement","toggleClassElement","scrollToTop","createMarcup","callBack","emptyElement","markUpBooks","_id","list_name","author","title","book_image","book_image_width","book_image_height","markUpCategories","mkData","markUpBooksById","description","desc","markUpCartBookList","cartList","storage.StorageService","storageData","showMessage","message","color","iziToast","showLoader","loader","render.removeClassElement","hideLoader","render.addClassElement","getApiData","url","axios","error","statusCode","_a","ErrorService","secondaryMessage","name","modalBackdrop","modalContent","modalContainer","setupQuantityControls","quantityInput","decreaseBtn","increaseBtn","value","max","initModalListeners","closeModal","openModal","bookId","render.clearElement","render.toggleClassElement","vQuery","dataBook","apiRest.getApiData","resolve","render.createMarcup","render.markUpBooksById","maxAvailable","submitBuyNow","e","render.showMessage","addToCard","handleAddToCard","container","trigger","panel","storage.setQuantityFromLocalStorage","books_list","category_list","category_button_dropdown","books_more_btn","notFoundEl","notFoundElDesc","notFoundTitle","counterText","renderCategories","render.markUpCategories","handleError","renderBooksByCat","bookCat","firstLoad","sourseData","apiRest.ErrorService","category","books","_b","renderData","updateCounterText","render.markUpBooks","showHideShowMoreButton","dafaultPagination","viewed","bookItm","modal.openModal","currentCat","activeLi","totalBooks","nextView","showMoreCloseOperations","render.scrollToTop","Pagination","swiperInstance","left","right","headerNav","emptyCart","buy_now","shop_more","cart_loader","summary_section","countEl","priceEl","openCartForm","eventLink","checkIfCartIsEmpty","markUpCardListItems","promises","apiRest\n      .getApiData","mkUpData","render.markUpCartBookList","onRemoveCartItemClick","event","removeBtn","cartItem","btn_burger","burger_icon","openCloseModalMenu","dataLink","cart.openCartForm","backoTop","form","inputs","closeBtn","backdrop","eventList","eventName","curLi","handleSubmit","clickClose","handleClick","titleTwo","onEscKeyPress","isValid","input","errorSpan","trimmedValue","initSwiper","updateBtn","destroySwiper","checkScreenSize","screenWidth","controls","pagination","swiper","leftBtn","rightBtn","footerForm","footerInput"],"mappings":"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"}